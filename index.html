<!DOCTYPE html>
<html>

<head>
    <title>Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h3>Calculator</h3>
        </header>
        <div class="screen">
            <span id="display"></span>
        </div>
        <div class="keys" data-value="AC">
            AC
        </div>
        <div class="keys" data-value="+/-">
            +/-
        </div>
        <div class="keys" data-value="%">
            %
        </div>
        <div class="keys red" data-value="/">
            /
        </div>
        <div class="keys" data-value="7">
            7
        </div>
        <div class="keys" data-value="8">
            8
        </div>
        <div class="keys" data-value="9">
            9
        </div>
        <div class="keys red" data-value="*">
            *
        </div>
        <div class="keys" data-value="4">
            4
        </div>
        <div class="keys" data-value="5">
            5
        </div>
        <div class="keys" data-value="6">
            6
        </div>
        <div class="keys red" data-value="-">
            -
        </div>
        <div class="keys" data-value="1">
            1
        </div>
        <div class="keys" data-value="2">
            2
        </div>
        <div class="keys" data-value="3">
            3
        </div>
        <div class="keys red" data-value="+">
            +
        </div>
        <div class="keys large" data-value="0">
            0
        </div>
        <div class="keys" data-value=".">
            .
        </div>
        <div class="keys red" data-value="=">
            =
        </div>
    </div>
    <script>
        var display = document.getElementById("display");
        var keys = document.getElementsByClassName("keys");
        var flag = 2;
        // var operator= null;
        // var operand1=0;
        // var operand2= null;

        var op = ["+", "-", "*", "/", "%"];
        var num = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "."];

        for (var i = 0; i < keys.length; i++) {
            keys[i].addEventListener('click', function () {
                console.log(flag);
                var value = this.getAttribute('data-value');
                //      console.log(value);
                if (op.includes(value) && flag == 0) {
                    //        operand1=parseFloat(display.textContent);	
                    //        operator= value;
                    display.innerText += value;
                    flag = 1;
                }
                else if (op.includes(value) && flag == 1) {
                    display.innerText = display.innerText.slice(0, -1);
                    //        console.log(display.innerText.slice(0,-1));
                    display.innerText += value;
                }
                else if (num.includes(value)) {
                    display.innerText += value;
                    flag = 0;
                }
                else if (value === "=") {
                    console.log(eval(display.innerText));
                    display.innerText = eval(display.innerText).toFixed(4);
                }
                else if (value == "AC") {
                    display.innerText = "";
                    flag = 2;
                }
            });
        }
    </script>

</body>

</html>